{% extends "base.html" %}
{% block title %}Edit This Bet{% endblock %}
{% block content %}
{% from "_macros_nfl.html" import render_field_with_errors, render_field %}
<div class="container">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <div class="confirmbet editbet_border_top">
                {% if nfl.over_under %}
                <div class="row">
                    <div class="col-md-12">
                        <form class="form_float" method="post" action="{{ url_for('nfl.nfl_delete_bet', bet_key=nfl.bet_key) }}" onsubmit="return EditBet(this);">
                            {{ form_d.csrf_token }}
                            <div class="delete_item">
                                <button type="submit" name="editbutton" id="editbutton" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span>&nbsp;&nbsp;Delete Item</button>
                            </div>
                        </form>
                    </div>
                </div>
                <p class="text-center"><img class="navpic" src="{{ nfl.users.profile.imgsrc|resize('100x100', fill=True, anchor='bottom', format='jpg', bgcolor='#999', quality=100, placeholder=True) }}"/></p>
                <h3 class="text-center">{{ nfl.vs }}</h3>
                <p class="text-center">{{ nfl.game_date | game_date }} {{ nfl.game_date | game_time }} </p>
                <hr>
                <div class="row">
                    <div class="col-md-8 col-md-offset-2">
                        <form action="{{ url_for('nfl.nfl_edit_bet', bet_key=nfl.bet_key) }}" method="POST" onsubmit="return EditBet(this);">
                            {{ form.csrf_token }}
                            <div class="form-group">
                                {{ render_field_with_errors(form.game_key) }}
                            </div>
                            <div class="form-group">
                                {{ render_field_with_errors(form.away_,value=a_team) }}
                            </div>
                            <div class="form-group">
                                {{ render_field_with_errors(form.home_,value=h_team) }}
                            </div>
                            <div class="form-group">
                                {{ form.over_under.label }} 
                                {{ render_field_with_errors(form.over_under) }}
                            </div>
                            <div class="form-group">
                                {{ form.total.label }}
                                {{ render_field_with_errors(form.total, class="form-control") }}  
                            </div>
                            <div class="form-group">
                                {{ form.amount.label }}
                                {{ render_field_with_errors(form.amount, placeholder="$20.00", class="form-control")}}
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-6">
                                        <button type="submit" name="editbutton" id="editbutton" class="btn btn-info editbet_buttons"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;&nbsp;Edit Item</button>
                                    </div>
                                    <div class="col-md-6">
                                        
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                {% endif %}
                {% if nfl.team == nfl.home_team %}
                <div class="row">
                    <div class="col-md-12">
                        <form class="form_float" method="post" action="{{ url_for('nfl.nfl_delete_bet', bet_key=nfl.bet_key) }}" onsubmit="return EditBet(this);">
                            {{ form_d.csrf_token }}
                            <div class="delete_item ">
                                <button type="submit" name="editbutton" id="editbutton" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span>&nbsp;&nbsp;Delete Item</button>
                            </div>
                        </form>
                    </div>
                </div>
                <p class="text-center"><img src="{{ nfl.users.profile.imgsrc|resize('100x100', fill=True, anchor='bottom', format='jpg', bgcolor='#999', quality=100, placeholder=True) }}"/></p>
                <h3 class="text-center">{{ nfl.vs }}</h3>
                <p class="text-center">{{ nfl.game_date | game_date }} {{ nfl.game_date | game_time }} </p>
                <hr>
                <div class="row">
                    <div class="col-md-8 col-md-offset-2">
                        <form action="{{ url_for('nfl.nfl_edit_bet', bet_key=nfl.bet_key) }}" method="POST" onsubmit="return EditBet(this);">
                            {{ form.csrf_token }}
                            <div class="form-group">
                                {{ render_field_with_errors(form.game_key) }}
                            </div>
                            <div class="form-group">
                                {{ render_field_with_errors(form.away_, value=a_team) }}
                            </div>
                            <div class="form-group">
                                {{ render_field_with_errors(form.home_, value=h_team) }}
                            </div>
                            <div class="form-group">
                                {{ form.home_team.label }}
                                {{ render_field_with_errors(form.home_team, id="home_team", class="form-control", readonly=True) }}
                            </div>
                            <div class="form-group">
                                 {{ form.point_spread.label }}
                                 {{ render_field_with_errors(form.point_spread, class="form-control", type="number", min="-21", max="21", step="0.5", value=nfl.ps) }}
                            </div>
                            <div class="form-group">
                                {{ form.amount.label }}
                                {{ render_field_with_errors(form.amount, id="amount", placeholder="$20.00", class="form-control")}}
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-6">
                                        <button type="submit" name="editbutton" id="editbutton" class="btn btn-info editbet_buttons"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;&nbsp;Edit Item</button>
                                    </div>
                                    <div class="col-md-6">
                                        
                                    </div>
                                </div>
                            </div>
                        </form>   
                    </div>
                </div>
                {% endif %}
                {% if nfl.team == nfl.away_team %}
                <div class="row">
                    <div class="col-md-12">
                        <form class="form_float" method="post" action="{{ url_for('nfl.nfl_delete_bet', bet_key=nfl.bet_key) }}" onsubmit="return EditBet(this);">
                            {{ form_d.csrf_token }}
                            <div class="delete_item">
                                <button type="submit" name="editbutton" id="editbutton" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span>&nbsp;&nbsp;Delete Item</button>
                            </div>
                        </form>
                    </div>
                </div>
                <p class="text-center"><img src="{{ nfl.users.profile.imgsrc|resize('100x100', fill=True, anchor='bottom', format='jpg', bgcolor='#999', quality=100, placeholder=True) }}"/></p>
                <h3 class="text-center">{{ nfl.vs }}</h3>
                <p class="text-center">{{ nfl.game_date | game_date }} {{ nfl.game_date | game_time }}</p>
                <hr>
                <div class="row">
                    <div class="col-md-8 col-md-offset-2">
                        <form action="{{ url_for('nfl.nfl_edit_bet', bet_key=nfl.bet_key) }}" method="POST" onsubmit="return EditBet(this);">
                         {{ form.csrf_token }}
                            <div class="form-group">
                                {{ render_field_with_errors(form.game_key) }}
                            </div>
                            <div class="form-group">
                                {{ render_field_with_errors(form.away_, value=a_team) }}
                            </div>
                            <div class="form-group">
                                {{ render_field_with_errors(form.home_, value=h_team) }}
                            </div>
                            <div class="form-group">
                                {{ form.away_team.label }}
                                {{ render_field_with_errors(form.away_team, id="away_team", class="form-control", readonly=True) }}
                            </div>
                            <div class="form-group">
                                 {{ form.point_spread.label }}
                                 {{ render_field_with_errors(form.point_spread, id="away_ps",class="form-control", value=nfl.ps, type="number", min="-21", max="21", step="0.5") }}    
                            </div>
                            <div class="form-group">
                                {{ form.amount.label }}
                                {{ render_field_with_errors(form.amount, id="amount", placeholder="$20.00", class="form-control")}}
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-6">
                                        <button type="submit" name="editbutton" id="editbutton" class="btn btn-info editbet_buttons"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;&nbsp;Edit Item</button>
                                    </div>
                                    <div class="col-md-6">
                                        
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                {% endif %}
            </div><!-- confirmbet editbet_border_top -->

        </div><!-- col-md-6 col-md-offset-3 -->
    </div><!-- end row -->
</div><!-- end container -->
{% endblock %}